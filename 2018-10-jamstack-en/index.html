<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>üçì JAMStack üçì - Moderne front-ends met static sites</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <!-- <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script> -->
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h1>
                    Going headless without losing your head üêî
                </h1>
                <p>Modern front-ends with the JAMStack</p>
            </section>
            <section>
                <h2>Introduction</h2>
                <p>Hi! I'm Iain üëã</p>
                <p>üê¶ <em>@iain_vdw</em></p>
            </section>
            <section>
                <h2>What I'm gonna be jabbering about
                    <br/>
                    <span class="fragment">üêî <em>Headless CMS</em> üêî</span>
                    <br/>
                    <span class="fragment">üçì <em>JAMStack</em> üçì</span>
                </h2>
            </section>
            <section>
                <h2>Brief intro</h2>
                <p>My experience with website development...</p>
                <aside class="notes">
                    <p>Past 10 years developing websites.</p>
                    <p>In various CMSes.</p>
                    <p>All with their features and quirks.</p>
                    <p>Have to learn CMS internals every so often.</p>
                </aside>
            </section>
            <section>
                <h2>Traditional CMSes</h2>
                <ol>
                    <li>Install CMS</li>
                    <li>Model data types in CMS</li>
                    <li>Enter content in CMS</li>
                    <li>Build front-end for CMS</li>
                    <li>Set up hosting for CMS</li>
                    <li>Deploy CMS</li>
                </ol>
            </section>
            <section>
                <h2>Everything is <em>tightly coupled</em></h2>
            </section>
            <section data-background-video="img/meh.mp4"  data-background-video-loop>
                <h2>Meh.</h2>
            </section>
            <section>
                <h2>But then...</h2>
                <p class="fragment"><em>Netlify</em></p>
                <aside class="notes">I came across Netlify. Started playing around, moving my site to that as host, checking its features. Amazing!</aside>
            </section>
            <section>
                <h2>Netlify</h2>
                <p>Continuous Integration/Deployment, Hosting, HTTPS, CDN, Forms, Authentication and more. <small class="fragment"><em>(for free!)</em></small></p>
                <p class="fragment">But... <em class="fragment">It can only host static files.</em></p>
            </section>
            <section>
                <h2>Static files? And a CMS? ü§î</h2>
                <p>That does not sound ideal, does it?</p>
                <p class="fragment"><em>More on that later...</em></p>
            </section>
            <section data-background-image="img/suspense.gif">
                <h2>The suspense!</h2>
            </section>
            <section>
                <h2>But first...</h2>
                <p>A detour into <em>headless CMSes</em></p>
            </section>
            <section>
                <h2>What is a <em>headless CMS</em>?</h2>
                <p>A CMS where the presentation (head) is decoupled from the data layer (body).
            </section>
            <section>
                <h2><em>Differences</em> to traditional CMSes</h2>
                <ul>
                    <li class="fragment">
                        Does <em>not render pages</em>
                    </li>
                    <li class="fragment">
                        Exposes the content <em>via an API</em>
                    </li>
                    <li class="fragment">
                        Focuses on the <em>authoring experience</em>
                    </li>
                    <li class="fragment">
                        Often is <em>cloud-based</em>
                    </li>
                    <li class="fragment">
                        Stores content in a <em>"pure" form</em>
                    </li>
                </ul>
                <aside class="notes">
                    <ul>
                        <li>No content, no pages, not immediately accessible in a browser.</li>
                        <li>APIs can be queried for content.</li>
                        <li>Sole focus is on the authors/editors.</li>
                        <li>CMS-as-a-service, Content-as-a-service</li>
                        <li>Decoupled from a web context, no URLs, no metadata.</li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>Why choose headless?</h2>
                <ul>
                    <li class="fragment">
                        <em>Broader focus</em> than website content
                    </li>
                    <li class="fragment">
                        Teams can <em>work together from the start</em>
                    </li>
                    <li class="fragment">
                        <em>Pick the best tools</em> for your frontend
                    </li>
                    <li class="fragment">
                        Superb fit for a <em>microservices architecture</em>
                    </li>
                    <li class="fragment">
                        Flexibility, ease of setup, <em>freedom</em>
                    </li>
                </ul>
                <aside class="notes">
                    <ul>
                        <li>Not limited by website content (social media, mobile apps, flight information, entertainment or sports channels, etc.)</li>
                        <li>FE, BE, content creation teams can work cooperatively to incrementally work on new features.</li>
                        <li>You can use preferred technologies instead of having to learn internals of every CMS.</li>
                        <li>One of many sources of content. Everything is decoupled and can be linked with an API.</li>
                        <li>There's no restriction to web-like content or data. Can be any content, any CMS, etc.</li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>Why <em>not</em> choose headless?</h2>
                <ul>
                    <li class="fragment">
                        Lack of focus on web-like features
                    </li>
                    <li class="fragment">
                        Sometimes a lot of "moving parts"
                    </li>
                    <li class="fragment">
                        Content editing is not WYSIWYG
                    </li>
                    <li class="fragment">
                        More dev assistance may be needed
                    </li>
                </ul>
                <aside class="notes">
                    <ul>
                        <li>SEO, page architecture, asset linking. Makes some features more challenging</li>
                        <li>for certain features, like security, link management, asset management, search, e-commerce, etc.</li>
                        <li>as content is primitive and has no immediate preview front-end</li>
                        <li>for creating page layouts and customer journeys on a website</li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>When to choose a headless CMS?</h2>
                <ul>
                    <li class="fragment">
                        Smaller short-lived projects 
                    </li>
                    <li class="fragment">
                        Projects with multi-channel content
                    </li>
                    <li class="fragment">
                        Microservices-oriented architecture
                    </li>
                </ul>
                <aside class="notes">
                    <ul>
                        <li>low-stake marketing websites</li>
                        <li>where the content is not web-only (social media, apps, websites, information systems)</li>
                        <li>An additional service in a microservices architecture to manage extra types of content</li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>CMS options</h2>
                <ul>
                    <li class="fragment">
                        <em>Traditional CMSes with extension</em>
                        <br/>
                        <span class="fragment">
                            <small>WordPress REST API, Drupal REST API or GraphQL module </small>
                        </span>
                    </li>
                    <li class="fragment">
                        <em>CMSaaS</em>
                        <br/>
                        <span class="fragment">
                            <small>Contentful, GraphCMS, Prismic</small>
                        </span>
                    </li>
                    <li class="fragment">
                        <em>File-based CMS</em>
                        <br/>
                        <span class="fragment">
                            <small>Netlify CMS</small>
                        </span>
                    </li>
                </ul>
            </section>
            <section>
                <h2>But what about <em>the head?!</em></h2>
                <p class="fragment">Let's put a head on this content...</p>
                <p class="fragment"><em>How?</em></p>
            </section>
            <section>
                <h2>üçì JAMStack üçì</h2>
                <blockquote class="fragment">
                    <p>
                        "A modern web development architecture based on client-side <em>J</em>avaScript, reusable <em>A</em>PIs, and prebuilt <em>M</em>arkup."
                    </p>
                    <cite><small>Mathias Biilman, CEO of Netlify</small></cite>
                </blockquote>
            </section>
            <section>
                <h2>The three pillars</h2>
                <ul>
                    <li class="fragment">JavaScript
                        <span class="fragment">
                            <em>(code)</em>
                        </span>
                    </li>
                    <li class="fragment">API's
                        <span class="fragment">
                            <em>(content)</em>
                        </span>
                    </li>
                    <li class="fragment">Markup
                        <span class="fragment">
                            <em>(templates)</em>
                        </span>
                    </li>
                </ul>
                <p class="fragment">This results in a <em>static site</em></p>
            </section>
            <section>
                <h2>Static sites</h2>
                <p>Pre-built, static HTML pages, that have been supplied content during a build step.</p>
            </section>
            <section>
                <h2>Static site generators</h2>
                <p>Tools that build static websites from a content source and templates.</p>
            </section>

            <section>
                <h2>Static? Waaaiiit...</h2>
                <p class="fragment">Aren't websites supposed to be <em>dynamic</em>?</p>
                <p class="fragment">Running a <em>CMS</em>?</p>
                <p class="fragment">To <em>edit content</em>?</p>
                <p class="fragment">And <em>present pages</em>?</p>
            </section>
            <section>
                <h2>Dynamic?</h2>
                <p>
                    Content is editable, so it's dynamic<em class="fragment">?</em>
                </p>
                <p class="fragment">Is it?</p>
            </section>
            <section>
                <h2>Content:</h2>
                <ul>
                    <li class="fragment">Is managed in a CMS</li>
                    <li class="fragment">Is static between changes</li>
                    <li class="fragment">Time between updates can be long</li>
                </ul>
            </section>
            <section>
                <h2>
                    So why would you still need
                    <br/>
                    <span class="fragment">
                        <em>a CMS</em>
                        or <em>framework</em>
                    </span>
                    <br/>
                    <span class="fragment">
                        requesting 
                        <br>
                        <em>the same content over and over</em>
                        <br>
                        from a database?
                    </span>
                </h2>
            </section>
            <section>
                <h2>Static sites are:</h2>
                <ul>
                    <li class="fragment" style="line-height: 1; margin-bottom: .33em;">
                        <em>Faster</em>
                        <br/>
                        <small class="fragment">Sites prebuilt into simple, static files</small>
                    </li>
                    <li class="fragment" style="line-height: 1; margin-bottom: .33em;">
                        <em>More secure</em>
                        <br/>
                        <small class="fragment">No direct requests to a server/database by the user</small>
                    </li>
                    <li class="fragment" style="line-height: 1; margin-bottom: .33em;">
                        <em>Simpler &amp; more scalable</em>
                        <br/>
                        <small class="fragment">Hosting for static files is simple to setup and very scalable</small>
                    </li>
                    <li class="fragment" style="line-height: 1; margin-bottom: .33em;">
                        <em>Liberating</em>
                        <br/>
                        <small class="fragment">More freedom in choosing tools for the frontend</small>
                    </li>
                </ul>
                <aside class="notes">
                    <p>Static sites solve this exact "issue"</p>
                    <ul>
                        <li>Files are generated on deployment. Visitor is not affected by slow external services as they're only used during deployment</li>
                        <li>As there's no CMS/framework being used during a request, there are way fewer attack vectors.</li>
                        <li>Every host that can handle simple files (all of them!) is sufficient</li>
                        <li>Static sites can be built exactly the way you want, without limitations of a certain CMS.</li>
                    </ul>
                </aside>
            </section>            <section>
                <h2>But wait, there's more!</h2>
                <p class="fragment">This stuff gets way easier:</p>
                <p>
                    <em class="fragment">Global CDN,</em>
                    <em class="fragment">Caching,</em>
                    <em class="fragment">Cache invalidation,</em>
                    <br/>
                    <em class="fragment">Atomic deploys,</em>
                    <em class="fragment">Incremental builds,</em>
                    <em class="fragment">Rollbacks,</em>
                    <br/>
                    <em class="fragment">Continuous deployment,</em>
                    <em class="fragment">Command line deployment,</em>
                    <br/>
                    <em class="fragment">Critical rendering,</em>
                    <em class="fragment">Asset optimization,</em>
                    <em class="fragment">etc.</em>
                </p>
            </section>
            <!--
            <section>
                <h2>
                    What is this <em>very</em> suited for?
                </h2>
                <ul>
                    <li class="fragment">Sites with a lot of content</li>
                    <li class="fragment">Content from existing APIs</li>
                    <li class="fragment">Really high performance requirements</li>
                </ul>
            </section>
            -->
            <section>
                <h2>
                    What is it <em>less</em> suited for?
                </h2>
                <ul>
                    <li class="fragment">Real-time / user-specific data</li>
                    <li class="fragment">Webshops</li>
                    <li class="fragment">Form handling</li>
                    <li class="fragment">Search</li>
                </ul>
                <p class="fragment">
                    But it's
                        <em>not impossible</em>...
                </p>
            </section>
            <section>
                <h2>Solutions</h2>
                <ul>
                    <li class="fragment">
                        <em>Single Page Apps</em>
                        <br/>
                        <small>React, Angular, Vue</small>
                    </li>
                    <li class="fragment">
                        <em>Payment &amp; Shopping cart services</em>
                        <br/>
                        <small>Shopify, Stripe</small>
                    </li>
                    <li class="fragment">
                        <em>Form services</em>
                        <br/>
                        <small>Wufoo, TypeForm, Netlify Forms</small>
                    </li>
                    <li class="fragment">
                        <em>Search services</em>
                        <br/>
                        <small>Google Search, Amazon Search, Algolia, ElasticSearch</small>
                    </li>
                    <li class="fragment">
                        <em>Authentication services</em>
                        <br/>
                        <small>Auth0, OAuth, Netlify Identity</small>
                    </li>
                </ul>
            </section>
            <section>
                <h2>So how would we realize this?</h2>
                <ul>
                    <li class="fragment">Set up a headless CMS with an API</li>
                    <li class="fragment">Static site generator that consumes that API</li>
                    <li class="fragment">Hosting for simple static files</li>
                    <li class="fragment">Deployment which builds the site</li>
                    <li class="fragment">Global CDN for superfast worldwide availability</li>
                </ul>
            </section>
            <!--
            <section>
                <h2>What can we use for this?</h2>
                <p>
                    <em>Static site generators</em>
                </p>
                <ul>
                    <li class="fragment">Jekyll (Ruby)</li>
                    <li class="fragment">Hugo (Go)</li>
                    <li class="fragment"><em>Gatsby (Node.js, React)</em></li>
                </ul>
            </section>
            <section>
                <h2>What can we use for this?</h2>
                <p>
                    <em>Headless CMS</em>
                </p>
                <ul>
                    <li class="fragment">Headless Drupal / WordPress</li>
                    <li class="fragment">Netlify CMS</li>
                    <li class="fragment">GraphCMS</li>
                    <li class="fragment"><em>Contentful</em></li>
                </ul>
            </section>
            <section>
                <h2>What can we use for this?</h2>
                <p>
                    <em>Hosting / deployment</em>
                </p>
                <ul>
                    <li class="fragment">Amazon AWS</li>
                    <li class="fragment">Google Cloud Storage</li>
                    <li class="fragment">Surge.sh</li>
                    <li class="fragment">Zeit.co</li>
                    <li class="fragment"><em>Netlify</em></li>
                </ul>
            </section>
            -->


            <section>
                <h2>Applying this architecture</h2>
                <p><em>Netlify, Contentful and Gatsby</em></p>
            </section>

            <section>
                <h2><em>Netlify</em></h2>
                <p>Create a new site on Netlify</p>
            </section>
            <section>
                <h2>Create site</h2>
                <img src="img/netlify-create-site.png" width="500" alt="" style="vertical-align: middle;">
            </section>
            <section>
                <h2>Link repository</h2>
                <img src="img/netlify-link-repo.png" width="500" alt="" style="vertical-align: middle;">
            </section>
            <section>
                <h2>Deploy settings</h2>
                <img src="img/netlify-deploy-settings.png" width="500" alt="" style="vertical-align: middle;">
            </section>
            <section>
                <h2>üí• Boom. üí•</h2>
                <p>You have a site.</p>
            </section>


            
            <section>
                <h2><em>Contentful</em></h2>
                <p>A developer-friendly CMS-as-a-service.<br/>Flexible and powerful.</p>
            </section>
            <section>
                <h2>Contentful features</h2>
                <ul>
                    <li class="fragment">Content authoring</li>
                    <li class="fragment">Versioning</li>
                    <li class="fragment">Localization</li>
                    <li class="fragment">Webhooks</li>
                    <li class="fragment">REST + GraphQL APIs</li>
                    <li class="fragment">SDKs for popular languages</li>
                </ul>
            </section>
            <section>
                <h2>Content models</h2>
                <img src="img/contentful-model.png" width="500" alt="" style="vertical-align: middle;">
                <img src="img/contentful-fields.png" width="400" alt="" style="vertical-align: middle;">
            </section>
            <section>
                <h2>API</h2>
                <pre><code class="js">{
  "fields": {
    "title": "This is the article title",
    "slug": "article-slug-1234",
    "content": "## Well, hello there!\n\n
                This is my first test article that 
                I've published using Contentful, 
                Gatsby and Netlify.",
    "header": {
      "sys": {
        "type": "Link",
        "linkType": "Asset",
        "id": "2Tk8wt5wjmI64yo88IYO24"
      }
    }
  }
}</code></pre>
            </section>
            <section>
                <h2>Webhooks</h2>
                <p>Trigger an action on a different service, when something happens.</p>
                <p class="fragment"><em>Like publishing content.</em></p>
            </section>
            <section>
                <h2>Webhooks</h2>
                <img src="img/contentful-webhook.png" width="700" alt="" style="vertical-align: middle;">
            </section>



            <section>
                <h2><em>Gatsby</em></h2>
                <p>Gatsby is a <em>static site generator</em>, built with <em>React</em>, that takes a content source, transforms it into a <em>static GraphQL endpoint</em>, which you can use to fetch data into your templates.</p>
            </section>
            <section data-background-image="img/gatsby.gif">
            </section>
            <section>
                <h2>What is GraphQL?</h2>
                <p>In short, GraphQL is a <em>query language</em> with which you can fetch data from <em>a single smart endpoint</em>, specifying your <em>data query</em> and receiving a JSON response in the <em>same shape</em> of the query.</p>
            </section>
            <section>
                <h2>So how do I show my content?</h2>
                <p class="fragment">Source plugin!</p>
                <p class="fragment">
                    <a href="https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-source-contentful"><code>gatsby-source-contentful</code></a>
                </p>
                <p class="fragment">Almost there...</p>
            </section>
            <section>
                <h2>Provide tokens</h2>
                <pre><code>// In your gatsby-config.js
{
  plugins: [
    {
      resolve: `gatsby-source-contentful`,
      options: {
        spaceId: `your_space_id`,
        accessToken: `your_access_token`,
      },
    },
  ]
}</code></pre>
            </section>
            <section>
              <h2>Run Gatsby</h2>
              <p>
                Run: <em><code>gatsby develop</code></em>
              </p>
              <p class="fragment">View site: <em>http://localhost:8000/</em></p>
              <p class="fragment">View GraphQL: <em>http://localhost:8000/___graphql</em></p>
            </section>
            <section>
                <h2>Query away!</h2>
                <pre><code>// graphql/all-articles.js
module.exports = `query AllArticlesQuery {
  allContentfulArticle {
    edges {
      node {
        title,
        content {
          content
        },
        header {
          file {
            url
          }
        }
        slug,
      }
    }
  }
}</code></pre>
            </section>
            <section>
                <h2>Feed it to Gatsby</h2>
                <pre><code>// gatsby-node.js
const path = require('path');
const { AllArticlesQuery } = require('./src/graphql/all-articles');

// Create article pages
exports.createPages = ({ graphql, boundActionCreators }) => {
  const { createPage } = boundActionCreators;

  return new Promise((resolve, reject) => {
    // Run the content query
    graphql(AllArticlesQuery).then(data) => {
      // Extract content and/or errors from response data
      const articles = data.allContentfulArticle.edges;
      const errors = data.errors;
      
      // Oh noes!
      if (errors) {
        reject(errors);
      }

      // Create overview page
      createPage({
        path: '/articles/',
        component: path.resolve('src/templates/article-overview.js'),
        context: {
          articles, // &lt;- The actual content
        },
      });

      // All done!
      resolve();
    }
  }
};</code></pre>
            </section>
            <section>
              <h2>Use the data as React props</h2>
              <pre class="js"><code class="js">// article-overview.js
import React from 'react';
import Link from 'gatsby-link';

const ArticleOverview = (props) => (
  &lt;ul&gt;
    {props.pathContext.articles.map(({ node: { title, header, slug } }) =&gt; (
    &lt;li&gt;
      &lt;h2&gt;{title}&lt;/h2&gt;
      {header && &lt;img src={header.file.url} alt={header.description} /&gt;}
      &lt;Link to={`/articles/${slug}`}&gt;
      Read article...
      &lt;/Link&gt;
    &lt;/li&gt;
    ))}
  &lt;/ul&gt;
);

export default ArticleOverview;</code></pre>
            </section>
            <section>
              <h2>Demo</h2>
              <p>üò¨ If there's still time...? üò¨</p>
            </section>



            <section>
                <h2>So...</h2>
                <p class="fragment">
                    <span class="fragment">
                        <em>Decouple</em> your frontend with <br><em>a Headless CMS and JAMStack</em> 
                        <br/>
                    </span>
                    <span class="fragment">
                        to build <em>fast and secure websites</em> with
                        <br/>
                    </span>
                    <span class="fragment">
                        <em>J</em>avaScript, <em>A</em>PIs and <em>M</em>arkup.
                    </span>
                </p>
            </section>
            <section>
                <h2>What are your questions?</h2>
                <p class="fragment">Ok bye! üëã</p>
            </section>
        </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
        // More info about config & dependencies:
        // - https://github.com/hakimel/reveal.js#configuration
        // - https://github.com/hakimel/reveal.js#dependencies
        Reveal.initialize({
            progress: true,
            history: true,
            dependencies: [
                { src: 'plugin/markdown/marked.js' },
                { src: 'plugin/markdown/markdown.js' },
                { src: 'plugin/notes/notes.js', async: true },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
            ]
        });
    </script>
</body>

</html>
